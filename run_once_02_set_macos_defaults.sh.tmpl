#!/bin/bash

echo "Applying macOS customizations..."

# General UI/UX
defaults write NSGlobalDomain AppleICUForce12HourTime -bool false            # Use 24-hour time format
defaults write NSGlobalDomain AppleMeasurementUnits -string "Centimeters"    # Set measurement units to Centimeters
defaults write NSGlobalDomain AppleMetricUnits -bool true                    # Enable metric units
defaults write NSGlobalDomain ApplePressAndHoldEnabled -bool false           # Disable press-and-hold for keys
defaults write NSGlobalDomain AppleShowScrollBars -string "Always"           # Always show scrollbars
defaults write NSGlobalDomain NSAutomaticSpellingCorrectionEnabled -bool false # Disable auto-correct
defaults write NSGlobalDomain NSAutomaticWindowAnimationsEnabled -bool false # Disable opening/closing window animations
defaults write NSGlobalDomain WebKitDeveloperExtras -bool true               # Enable WebKit Developer Extras globally

# Keyboard & Mouse
defaults write com.apple.BezelServices kDimTime -int 300                    # Turn off keyboard backlight after 5 mins
defaults write com.apple.driver.AppleBluetoothMultitouch.trackpad Clicking -bool true # Enable tap-to-click

# Finder
defaults write com.apple.finder AppleShowAllFiles -bool true                # Show hidden files
defaults write com.apple.finder DisableAllAnimations -bool true             # Disable Finder animations
defaults write com.apple.finder FXEnableExtensionChangeWarning -bool false  # Disable file extension warning
defaults write com.apple.finder _FXShowPosixPathInTitle -bool true          # Show full POSIX path in Finder title bar

# Dock
defaults write com.apple.dock autohide-delay -float 0                       # Remove auto-hide Dock delay
defaults write com.apple.dock expose-animation-duration -float 0.1          # Speed up Mission Control animations
defaults write com.apple.dock wvous-bl-corner -int 5                        # Set bottom-left corner to screensaver
defaults write com.apple.dock wvous-bl-modifier -int 0                      # No modifier key for screensaver

# Safari
defaults write com.apple.Safari IncludeDevelopMenu -bool true               # Enable Develop menu
defaults write com.apple.Safari IncludeInternalDebugMenu -bool true         # Enable internal debug menu
defaults write com.apple.Safari WebKitDeveloperExtrasEnabledPreferenceKey -bool true # Enable WebKit Developer Extras

# System
defaults write com.apple.ImageCapture disableHotPlug -bool true             # Prevent Photos from auto-opening
defaults write com.apple.LaunchServices LSQuarantine -bool false            # Disable "open this application?" dialog
defaults write com.apple.NetworkBrowser BrowseAllInterfaces -bool true      # Enable AirDrop over all interfaces
defaults write com.apple.menuextra.battery ShowPercent -string "YES"        # Show battery percentage

# Security
defaults write com.apple.screensaver askForPassword -int 1                  # Require password after sleep/screensaver
defaults write com.apple.screensaver askForPasswordDelay -int 5             # Set password delay to 5 seconds

# iTunes & .DS_Store
defaults write com.apple.iTunesHelper ignore-devices -bool true             # Prevent iTunes from auto-opening
defaults write com.apple.desktopservices DSDontWriteNetworkStores -bool true # Prevent .DS_Store on network volumes
defaults write com.apple.desktopservices DSDontWriteUSBStores -bool true    # Prevent .DS_Store on USB volumes


# Restart affected apps for changes to take effect
echo "Restarting Dock and Finder to apply changes..."
killall Dock
killall Finder

echo "Defaults have been set"

- name: Register brew apps list
  set_fact:
    brew_apps:
      - wget
      - the_silver_searcher
      - jsonpp
      - hub
      - mercurial
      - fzf
      - ipcalc
      - git-flow-avh
      - gpg
      - mas
      - tmux
      - dockutil

- name: Register cask apps list
  set_fact:
    cask_apps:
      - font-fira-mono
      - font-roboto-mono
      - font-hack
      - font-source-code-pro
      - font-fira-mono-for-powerline
      - iterm2
      - slack
      - skype
      - telegram-desktop
      - hipchat
      - firefox-beta
      - tunnelblick
      - sourcetree
      - lunchy
      - insomnia
      - spotify
      - docker
      - 1password
      - spotify
      - dash
      - rectangle
      - visual-studio-code

- name: Install brew packages
  homebrew:
    name: "{{ brew_apps | join(',') }}"
    state: present

- name: Install apps from casks
  homebrew_cask:
    name: "{{ cask_apps | join(',') }}"
    state: present

- name: Cleanup Dock
  command: dockutil --remove '{{ item }}'
  ignore_errors: true
  with_items:
    - Siri
    - Launchpad
    - Safari
    - Contacts
    - Notes
    - Reminders
    - Maps
    - Photos
    - Messsages
    - FaceTime
    - Music
    - Podcasts
    - TV
    - Books
    - App Store
